<div class="battle">
  <div class="battle__buttons">
    <app-button [type]="'primary'">ПРАВИЛА ИГРЫ</app-button>
    <app-button [type]="'danger'">ВЫЙТИ ИЗ ИГРЫ</app-button>
  </div>
  <div class="battle__info">
    <app-player
      class="battle__info-player"
      [leftSide]="true"
      [name]="gameService.player.name"
      [score]="gameService.player.score">
    </app-player>
    <app-timer [time]="gameService.game.time"></app-timer>
    <app-player 
      class="battle__info-player"
      [name]="gameService.opponent.name"
      [score]="gameService.opponent.score">
    </app-player>
  </div>
  <div class="battle__platform">
    <app-board class="battle__platform-board" [board]="gameService.player.board.grid"></app-board>
    
    <div *ngIf="gameService.game.turn === 'PLAYER'" class="battle__platform-message">Ваш ход!</div>
    <div *ngIf="gameService.game.turn === 'OPPONENT'" class="battle__platform-message">Ход противника!</div>
    
    <app-board class="battle__platform-board" [board]="gameService.opponent.board.grid" (onSquareClick)="makeShot($event)"></app-board>
  </div>

  <ng-container *ngIf="gameService.game.state === 'END'">
    <app-message class="battle__message">
      <div title>БОЙ ОКОНЧЕН!</div>
      <div body>
        <ng-container *ngIf="gameService.player.winner">Вы победили :)</ng-container>
        <ng-container *ngIf="gameService.opponent.winner">Вы проиграли :(</ng-container>
        <ng-container *ngIf="!gameService.opponent.winner && !gameService.player.winner">Оппонент покинул игру</ng-container>
      </div>
      <div footer>
        <app-button>НА ГЛАВНУЮ</app-button>
      </div>
    </app-message>
  </ng-container>

</div>